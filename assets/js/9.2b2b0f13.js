(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{408:function(s,t,a){"use strict";a.r(t);var e=a(56),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"子域名信息收集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子域名信息收集"}},[s._v("#")]),s._v(" 子域名信息收集")]),s._v(" "),a("p",[s._v("子域名是父域名的下一级，像www.xxx.com这样的域名为企业的主站域名,企业对于主站域名的应用的防护措施比较健全,不管是应用本身的漏洞发现、漏洞修复,还是安全设备相关的防护都做得更加及时和到位,而企业可能有多个、几个甚至更多的子域名应用,因为子域名数量多，企业子域名的防护可能没有主站的防护做的到位，攻击不到主站的时候，尝试攻击子域名，进行子域名的信息收集。")]),s._v(" "),a("p",[s._v("以下是几种子域名的收集方式:")]),s._v(" "),a("h2",{attrs:{id:"枚举收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#枚举收集子域名"}},[s._v("#")]),s._v(" 枚举收集子域名")]),s._v(" "),a("p",[s._v("枚举的方式就是进行暴力的破解，首先需要一个好的字典，这样会增加成功率。")]),s._v(" "),a("h3",{attrs:{id:"_1、使用layer子域名挖掘机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、使用layer子域名挖掘机"}},[s._v("#")]),s._v(" 1、使用Layer子域名挖掘机")]),s._v(" "),a("p",[s._v("使用Layer子域名挖掘机进行收集，内置了常见的子域名字典，支持多线程")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/Penetration/information/14.png",alt:"14"}})]),s._v(" "),a("h3",{attrs:{id:"_2、使用subdomainsbrute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用subdomainsbrute"}},[s._v("#")]),s._v(" 2、使用subDomainsBrute")]),s._v(" "),a("p",[s._v("subDomainsBrute工具用于域名收集，并发DNS暴力枚举，发现其他工具无法检测的域名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("工具GIthub地址：https://github.com/lijiejie/subDomainsBrute\n下载：git clone https://github.com/lijiejie/subDomainsBrute\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/15.png",alt:"15"}})]),s._v(" "),a("h3",{attrs:{id:"_3、在线子域名爆破"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在线子域名爆破"}},[s._v("#")]),s._v(" 3、在线子域名爆破")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://z.zcjun.com/\nhttps://phpinfo.me/domain/\nhttp://tools.bugscaner.com/subdomain/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"搜索引擎收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索引擎收集子域名"}},[s._v("#")]),s._v(" 搜索引擎收集子域名")]),s._v(" "),a("h3",{attrs:{id:"_1、使用google语法进行子域名的收集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、使用google语法进行子域名的收集"}},[s._v("#")]),s._v(" 1、使用google语法进行子域名的收集")]),s._v(" "),a("p",[s._v("使用Google语法搜索")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("site:xxx.com \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/16.png",alt:"16"}})]),s._v(" "),a("h3",{attrs:{id:"_2、使用空间探测引擎子域名收集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用空间探测引擎子域名收集"}},[s._v("#")]),s._v(" 2、使用空间探测引擎子域名收集")]),s._v(" "),a("p",[s._v("使用空间探测引擎进行子域名搜索")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/Penetration/information/17.png",alt:"17"}})]),s._v(" "),a("h2",{attrs:{id:"爬虫收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#爬虫收集子域名"}},[s._v("#")]),s._v(" 爬虫收集子域名")]),s._v(" "),a("h2",{attrs:{id:"备案查询子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#备案查询子域名"}},[s._v("#")]),s._v(" 备案查询子域名")]),s._v(" "),a("p",[s._v("服务器如果在国内，那么域名就要进行备案")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://icp.chinaz.com/\nhttps://www.beianx.cn/\nhttp://www.beian.gov.cn\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"dns公开记录查询子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns公开记录查询子域名"}},[s._v("#")]),s._v(" DNS公开记录查询子域名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ip138：https://site.ip138.com/\n百度云观测：http://ce.baidu.com/index/getRelatedSites?site_address=baidu.com\ncircl：https://www.circl.lu/services/passive-dns/#passive-dns\nhackertarget：https://hackertarget.com/find-dns-host-records/\nriddler：https://riddler.io/search?q=pld:baidu.com\nbufferover：https://dns.bufferover.run/dns?q=.baidu.com\ndnsdb：https://dnsdb.io/zh-cn/search?q=baidu.com\nipv4info：http://ipv4info.com/\nrobtex：https://www.robtex.com/dns-lookup/\nchinaz：https://alexa.chinaz.com/\nnetcraft：https://searchdns.netcraft.com/\nsecuritytrails：https://docs.securitytrails.com/v1.0/reference#get-domain-\nsitedossier：http://www.sitedossier.com/\nthreatcrowd：https://www.threatcrowd.org/\nsiterankdata：https://siterankdata.com/\nfindsubdomains：https://findsubdomains.com/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"使用第三方聚合服务收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用第三方聚合服务收集子域名"}},[s._v("#")]),s._v(" 使用第三方聚合服务收集子域名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dnsscan：https://www.dnsscan.cn\n微步：https://x.threatbook.cn/\nalienvault：https://otx.alienvault.com/\nriskiq：https://www.riskiq.com/\nthreatminer：https://www.threatminer.org/\nvirustotal：https://www.virustotal.com/gui/home/search\ndnsdumpster：https://dnsdumpster.com/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_1、sublist3r"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、sublist3r"}},[s._v("#")]),s._v(" 1、sublist3r")]),s._v(" "),a("p",[s._v("Sublist3r是一个用Python编写的子域发现工具，旨在使用来自公共资源和暴力技术的数据枚举网站的子域。公共资源包括广泛的流行搜索引擎，如谷歌，雅虎，必应，百度，Ask以及Netcraft，Virustotal，ThreatCrowd，DNSdumpster和ReverseDNS，以发现子域名。或者，您也可以对给定域名强制执行子域，然后由名为Subbrute的集成工具处理")]),s._v(" "),a("p",[s._v("安装：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git clone https://github.com/aboul3la/Sublist3r.git\ncd Sublist3r\npip install -r requirements.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("参数介绍：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-d -domain要枚举子域的域名\n-b -bruteforce启用subbrute bruteforce模块\n-p -ports根据特定的tcp端口扫描找到的子域\n-v --verbose启用详细模式并实时显示结果\n-t -threads用于subbrute bruteforce的线程数\n-e - 引擎指定逗号分隔的搜索引擎列表\n-o -output将结果保存到文本文件\n-h -help显示帮助信息并退出\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("使用方式：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("查询：python sublist3r.py -d  xxx.com\n爆破：python sublist3r.py -b -t 10 -d xxx.com \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/20.png",alt:"20"}})]),s._v(" "),a("h3",{attrs:{id:"_2、oneforall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、oneforall"}},[s._v("#")]),s._v(" 2、OneForAll")]),s._v(" "),a("p",[s._v("OneForAll是一款功能强大的子域收集工具 "),a("em",[s._v("OneForAll")]),s._v("基于Python 3.8.0开发和测试")]),s._v(" "),a("p",[s._v("安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("下载：\ngit clone https://gitee.com/shmilylty/OneForAll.git\ngit clone https://github.com/shmilylty/OneForAll.git \n安装：\ncd OneForAll/ \npython -m pip install --user  -U pip setuptools wheel -i https://mirrors.aliyun.com/pypi/simple/   \npip3 install --user -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("使用方式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("python3 oneforall.py --target baidu.com run /*收集*/\npython3 aiobrute.py --target baidu.com run  /*爆破*/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/21.png",alt:"21"}})]),s._v(" "),a("h2",{attrs:{id:"证书透明性信息收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#证书透明性信息收集子域名"}},[s._v("#")]),s._v(" 证书透明性信息收集子域名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("crtsh：https://crt.sh/\ncensys：https://censys.io/certificates\nspyse：https://spyse.com/search/certificate\ncertspotter：https://sslmate.com/certspotter/api/\nentrust：https://www.entrust.com/ct-search/\nfacebook：https://developers.facebook.com/tools/ct\ngoogle：https://developers.facebook.com/tools/ct\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_1、crt-sh对域名搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、crt-sh对域名搜索"}},[s._v("#")]),s._v(" 1、crt.sh对域名搜索")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://crt.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/18.png",alt:"18"}})]),s._v(" "),a("h3",{attrs:{id:"_2、使用google对域名搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用google对域名搜索"}},[s._v("#")]),s._v(" 2、使用google对域名搜索")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://transparencyreport.google.com/https/certificates\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/Penetration/information/19.png",alt:"19"}})]),s._v(" "),a("h2",{attrs:{id:"dns域传送漏洞收集子域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns域传送漏洞收集子域名"}},[s._v("#")]),s._v(" DNS域传送漏洞收集子域名")]),s._v(" "),a("p",[s._v("DNS协议支持使用axfr类型的记录进行区域传送，用来解决主从同步的问题。如果管理员在配置DNS服务器的时候没有限制允许获取记录的来源，将会导致DNS域传送漏洞。")]),s._v(" "),a("p",[s._v("漏洞复现地址如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://vulhub.org/#/environments/dns/dns-zone-transfer/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("具体复现请阅读【"),a("a",{attrs:{href:""}},[s._v("DNS域传送漏洞")]),s._v("】")])])}),[],!1,null,null,null);t.default=n.exports}}]);