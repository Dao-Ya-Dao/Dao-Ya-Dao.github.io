(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{407:function(t,a,s){"use strict";s.r(a);var n=s(56),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"真实ip获取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#真实ip获取"}},[t._v("#")]),t._v(" 真实IP获取")]),t._v(" "),s("p",[t._v("为了保证网络的稳定和快速传输,网站服务商会在网络的不同位置设置节点服务器,通过 CDN ( Content Delivery Network 内容分发网络)技术,将网络请求分发到最优的节点服务器上面。如果网站开启了 CDN加速,就无法通过网站的城名信息获取真实的 IP, 要对目标的IP 资源进行收集,就要绕过 CDN 查询到其真实的 IP 信息")]),t._v(" "),s("h2",{attrs:{id:"如何判断是否是cdn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何判断是否是cdn"}},[t._v("#")]),t._v(" 如何判断是否是CDN")]),t._v(" "),s("p",[t._v("在对目标 IP 信息收集之前,首先要判断目标网站是否开启了CDN ,一般通过不同地方的主机 ping 域名和 nslookup 域名解析两种方法,通过查看返回的 IP 是否是多个的方式来判断网站是否开启了 CDN ,如果返回的 IP 信息是多个不同的 IP 那就有可能使用了 CDN 技术。")]),t._v(" "),s("h3",{attrs:{id:"_1、使用不同主机ping域名判断是否有cdn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、使用不同主机ping域名判断是否有cdn"}},[t._v("#")]),t._v(" 1、使用不同主机ping域名判断是否有CDN")]),t._v(" "),s("p",[t._v("互联网有很多公开的服务器可以进行多地ping来判断是否存在CDN，比较常用的有:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("站长工具：http://ping.chinaz.com/\n爱战网：https://ping.aizhan.com/\n国外ping探测：https://asm.ca.com/en/ping.php\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/Penetration/information/cnd.png",alt:"cnd"}})]),t._v(" "),s("h3",{attrs:{id:"_2、使用nslookup域名解析判断是否有cdn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用nslookup域名解析判断是否有cdn"}},[t._v("#")]),t._v(" 2、使用nslookup域名解析判断是否有CDN")]),t._v(" "),s("p",[t._v("通过系统自带的“nslookup”，命令对域名进行解析，如果发现有多个IP地址，可能使用了CDN技术")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/Penetration/information/two.png",alt:"cnd"}})]),t._v(" "),s("h2",{attrs:{id:"如何绕过cdn获取真实ip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何绕过cdn获取真实ip"}},[t._v("#")]),t._v(" 如何绕过CDN获取真实IP")]),t._v(" "),s("h3",{attrs:{id:"_1、子域名探测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、子域名探测"}},[t._v("#")]),t._v(" 1、子域名探测")]),t._v(" "),s("p",[t._v("由于CDN加速需要支付一定的费用,很多网站只对主站做了CDN加速,子域名没有做CDN加速，子域名和主站很有可能在同一个服务器或者同一个C段中，可以通过探测子域名的方式，收集子域名的信息，查询子域名的IP地址来辅助判断主站的IP信息")]),t._v(" "),s("p",[t._v("子域名探测方式有如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("子域名枚举\n搜索引擎搜索\n证书透明\nDNS 域传送漏洞\n注意：以上收集方式并不代表所有的收集方式，希望家人们可以再仔细研究\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("更多具体的收集方式请阅读"),s("RouterLink",{attrs:{to:"/Penetration/information/two.html"}},[t._v("【子域名信息收集】")])],1),t._v(" "),s("h3",{attrs:{id:"_2、查询历史dns记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、查询历史dns记录"}},[t._v("#")]),t._v(" 2、查询历史DNS记录")]),t._v(" "),s("p",[t._v("通过查询DNS于IP绑定的历史记录就有可能发现之前的真实IP信息，一般通过第三方服务网站进行查询，常用的第三方服务网站有")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("DNSdb：https://dnsdb.io/zh-cn/\n微步在线：https://x.threatbook.cn\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_3、国外主机解析域名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、国外主机解析域名"}},[t._v("#")]),t._v(" 3、国外主机解析域名")]),t._v(" "),s("p",[t._v("部分国内的 CDN 加速服务商只对国内的线路做了 CDN加速,但是国外的线路没有做加速,这样就可以通过国外外的主机来探测真实的 IP")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("https://ping.chinaz.com/\nhttps://ping.aizhan.com/\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/Penetration/information/3.png",alt:"3"}})]),t._v(" "),s("h3",{attrs:{id:"_4、网站漏洞查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、网站漏洞查询"}},[t._v("#")]),t._v(" 4、网站漏洞查询")]),t._v(" "),s("p",[t._v("利用网站的漏洞和信息泄露的敏感文件信息，比如（phpinfo文件，网站源码文件，Github文件泄露）等获取真实IP\n"),s("center",[s("img",{attrs:{src:"/images/Penetration/information/4.png",alt:"3"}})])],1),t._v(" "),s("h3",{attrs:{id:"_5、邮件信息查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、邮件信息查询"}},[t._v("#")]),t._v(" 5、邮件信息查询")]),t._v(" "),s("p",[t._v("邮件信息中会记录邮件服务器的IP信息，有些站点类似于RSS邮件订阅的功能，可以利用其发送邮件，通过查看源码看X-ORIGINATING-IP查看服务器的真实IP地址")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/Penetration/information/5.png",alt:"5"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);